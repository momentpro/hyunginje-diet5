# 🔒 보안 설정 완료 가이드

## ⚠️ 중요: GitHub 보안 경고 해결됨

GitHub에서 탐지한 API 키 노출 문제가 해결되었습니다.

### 🛡️ **해결된 보안 문제:**
- ✅ Google Chat Webhook URL 제거
- ✅ Google API 키 제거  
- ✅ 민감한 정보가 포함된 `apps-script.js` 파일 삭제
- ✅ 템플릿 파일로 대체 (`apps-script-template.js`)

---

## 🚨 **현재 상태:**
- ✅ **설문 페이지**: 정상 작동 (단계별 제목 수정 완료)
- ⚠️ **제출 기능**: 임시 로컬 저장만 작동 
- ❌ **구글 시트 연동**: Apps Script 재설정 필요
- ❌ **Google Chat 알림**: Webhook 재설정 필요

---

## 📋 **복구 작업 순서:**

### 1️⃣ **새로운 API 키 발급** (보안상 필수)
노출된 키들은 무효화되었을 수 있으므로 새로 발급받으세요:

- **Google Chat Webhook**: 새 스페이스 생성 후 새 웹훅 URL 발급
- **Google Sheet**: 새 시트 생성 (기존 데이터는 백업 후 이전)

### 2️⃣ **Apps Script 재설정**
1. **https://script.google.com** 접속
2. 기존 프로젝트 열기 또는 새 프로젝트 생성
3. **`apps-script-template.js`** 파일 내용 복사
4. 다음 값들을 실제 값으로 교체:
   ```javascript
   const SHEET_ID = 'YOUR_GOOGLE_SHEET_ID_HERE';
   const GOOGLE_CHAT_WEBHOOK = 'YOUR_GOOGLE_CHAT_WEBHOOK_URL_HERE';
   // Gmail 주소도 실제 주소로 변경
   ```
5. **"배포" → "새 배포"** 클릭
6. 새로운 Apps Script URL 복사

### 3️⃣ **설문 페이지 업데이트**
새로운 Apps Script URL을 `index.html`에 반영:
```javascript
// 2240번째 줄 근처에서 주석 해제 후 URL 교체
const scriptURL = 'YOUR_NEW_APPS_SCRIPT_URL_HERE';
```

---

## 🧪 **현재 테스트 가능한 기능:**
- ✅ **설문 작성**: 모든 22단계 정상 작동
- ✅ **단계별 제목**: 각 질문에 맞는 안내 메시지 표시
- ✅ **로컬 저장**: 브라우저에 백업 저장
- ✅ **데이터 확인**: F12 → Console에서 제출 데이터 확인

---

## 💡 **임시 운영 방법:**
현재도 설문은 정상 작동하며, 데이터는 브라우저에 저장됩니다.
개발자 도구에서 데이터를 확인하여 수동으로 수집할 수 있습니다.

**Apps Script 재설정 완료 후 자동 연동이 재개됩니다.**

---

## 🔐 **보안 권장사항:**
1. **GitHub에 민감한 정보 절대 업로드 금지**
2. **API 키는 Apps Script 내부에서만 사용**
3. **정기적으로 API 키 교체**
4. **환경변수 또는 Properties Service 사용 권장**
